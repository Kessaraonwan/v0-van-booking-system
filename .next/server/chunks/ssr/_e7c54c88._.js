module.exports=[71527,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(28783),g=a.i(33991),h=a.i(52326),i=a.i(158),j=a.i(86576),k=a.i(24097),l=b([g]);function m(){let[a,b]=(0,e.useState)([]),[c,l]=(0,e.useState)(!0),[m,n]=(0,e.useState)("all"),[o,p]=(0,e.useState)(""),[q,r]=(0,e.useState)(null),[s,t]=(0,e.useState)(null),[u,v]=(0,e.useState)(!1),[w,x]=(0,e.useState)(null),{toast:y}=(0,k.useToast)();(0,e.useEffect)(()=>{z()},[]);let z=async()=>{try{l(!0);let a=await i.adminAPI.getAllBookings();if(a&&a.success){x(null);let c=a.data||[],d=a=>{let b=a.booking_code||a.booking_number||a.bookingNumber||a.BookingNumber||"";if(!b)return 0;let c=(""+b).replace(/\D/g,"");return c?Number(c):a.created_at?new Date(a.created_at).getTime():a.createdAt?new Date(a.createdAt).getTime():a.id||0};c.sort((a,b)=>d(b)-d(a)),b(c)}else{let c=a&&a.message?a.message:"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¸ˆà¸­à¸‡à¹„à¸”à¹‰";x(c),b([])}}catch(a){console.error("Error fetching bookings:",a),x(a.message||"Failed to fetch bookings")}finally{l(!1)}},A=async a=>{try{v(!0),t(null),r(a);let b=await i.adminAPI.getBookingDetails(a.id);b&&b.success?t(b.data):t(a)}catch(b){console.error("Failed to load booking details",b),t(a)}finally{v(!1)}},B=async(a,b)=>{let c=(a=>{if(!a)return a;let b=String(a).toUpperCase();return"CONFIRMED"===b?"confirmed":"PENDING"===b?"pending":"CANCELLED"===b||"CANCELED"===b?"cancelled":"COMPLETED"===b?"completed":String(a).toLowerCase()})(b);try{let b=await i.adminAPI.updateBookingStatus(a,c);if(b&&b.success)y({title:"à¸­à¸±à¸žà¹€à¸”à¸—à¸ªà¸–à¸²à¸™à¸°à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢",description:`à¸ªà¸–à¸²à¸™à¸°à¸–à¸¹à¸à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹€à¸›à¹‡à¸™ ${c}`}),await z();else{let a=b&&b.message?b.message:"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸­à¸±à¸žà¹€à¸”à¸—à¸ªà¸–à¸²à¸™à¸°à¹„à¸”à¹‰";y({title:"à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”",description:a,variant:"destructive"})}}catch(a){console.error("Error updating booking:",a),y({title:"Error updating booking",description:a.message||String(a),variant:"destructive"})}},C=a=>(a.status||a.booking_status||a.bookingStatus||"").toUpperCase(),D=a.filter(a=>("all"===m||C(a)===m)&&!!(a=>{let b=o.trim().toLowerCase();if(!b)return!0;let c=[a.user?.first_name,a.user?.last_name,a.user?.name,a.user?.full_name].filter(Boolean).join(" ").toLowerCase(),d=(a.booking_code||a.booking_number||a.bookingNumber||"").toLowerCase();return c.includes(b)||d.includes(b)})(a)),E={all:a.length,PENDING:a.filter(a=>"PENDING"===C(a)).length,CONFIRMED:a.filter(a=>"CONFIRMED"===C(a)).length,COMPLETED:a.filter(a=>"COMPLETED"===C(a)).length,CANCELLED:a.filter(a=>"CANCELLED"===C(a)).length};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.default,{children:(0,d.jsx)("title",{children:"à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¸ˆà¸­à¸‡ - Admin Panel"})}),(0,d.jsx)(h.default,{children:(0,d.jsxs)("div",{className:"space-y-8",children:[(0,d.jsxs)("div",{className:"relative overflow-hidden rounded-2xl shadow-xl",style:{backgroundImage:"url(https://images.unsplash.com/photo-1506521781263-d8422e82f27a?w=1200&h=400&fit=crop)",backgroundSize:"cover",backgroundPosition:"center"},children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 via-gray-900/70 to-gray-900/60"}),(0,d.jsx)("div",{className:"relative z-10 p-8 md:p-12",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-3",children:"à¸à¸²à¸£à¸ˆà¸­à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"}),(0,d.jsx)("p",{className:"text-xl text-white/90 mb-6",children:"à¸”à¸¹à¹à¸¥à¸°à¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¸¥à¸¹à¸à¸„à¹‰à¸²"}),(0,d.jsxs)("div",{className:"flex items-center gap-6 text-white/90",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"w-3 h-3 rounded-full bg-yellow-400 animate-pulse"}),(0,d.jsxs)("span",{className:"font-medium",children:[E.PENDING," à¸£à¸­à¸¢à¸·à¸™à¸¢à¸±à¸™"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"w-3 h-3 rounded-full bg-green-400"}),(0,d.jsxs)("span",{className:"font-medium",children:[E.CONFIRMED," à¸¢à¸·à¸™à¸¢à¸±à¸™à¹à¸¥à¹‰à¸§"]})]})]})]}),(0,d.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-4 py-3 flex items-center gap-3 min-w-[300px]",children:[(0,d.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,d.jsx)("input",{type:"text",value:o,onChange:a=>p(a.target.value),placeholder:"à¸„à¹‰à¸™à¸«à¸²à¸Šà¸·à¹ˆà¸­à¸¥à¸¹à¸à¸„à¹‰à¸² à¸«à¸£à¸·à¸­à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¸ˆà¸­à¸‡...",className:"bg-transparent text-white placeholder-white/70 border-none outline-none flex-1 font-medium"})]})]})})]}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,d.jsxs)("button",{onClick:()=>n("all"),className:`px-6 py-3 rounded-xl font-bold transition-all ${"all"===m?"bg-gradient-to-r from-orange-500 to-red-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-200 hover:border-orange-300"}`,children:["à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (",E.all,")"]}),(0,d.jsxs)("button",{onClick:()=>n("PENDING"),className:`px-6 py-3 rounded-xl font-bold transition-all ${"PENDING"===m?"bg-gradient-to-r from-yellow-500 to-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-200 hover:border-yellow-300"}`,children:[(0,d.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-yellow-500 mr-2 animate-pulse"}),"à¸£à¸­à¸¢à¸·à¸™à¸¢à¸±à¸™ (",E.PENDING,")"]}),(0,d.jsxs)("button",{onClick:()=>n("CONFIRMED"),className:`px-6 py-3 rounded-xl font-bold transition-all ${"CONFIRMED"===m?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-200 hover:border-green-300"}`,children:["à¸¢à¸·à¸™à¸¢à¸±à¸™à¹à¸¥à¹‰à¸§ (",E.CONFIRMED,")"]}),(0,d.jsxs)("button",{onClick:()=>n("COMPLETED"),className:`px-6 py-3 rounded-xl font-bold transition-all ${"COMPLETED"===m?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-200 hover:border-blue-300"}`,children:["à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™ (",E.COMPLETED,")"]}),(0,d.jsxs)("button",{onClick:()=>n("CANCELLED"),className:`px-6 py-3 rounded-xl font-bold transition-all ${"CANCELLED"===m?"bg-gradient-to-r from-gray-500 to-gray-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-200 hover:border-gray-300"}`,children:["à¸¢à¸à¹€à¸¥à¸´à¸ (",E.CANCELLED,")"]})]}),c?(0,d.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 animate-pulse",children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-300 rounded-xl"}),(0,d.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,d.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),(0,d.jsx)("div",{className:"h-6 bg-gray-300 rounded w-1/2"})]}),(0,d.jsx)("div",{className:"h-10 w-32 bg-gray-300 rounded-xl"})]})},b))}):w?(0,d.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-bold text-yellow-800",children:"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¸ˆà¸­à¸‡"}),(0,d.jsx)("div",{className:"text-sm text-yellow-700 mt-1",children:w})]}),(0,d.jsx)("div",{children:(0,d.jsx)("a",{href:"/admin/login",className:"inline-flex items-center gap-2 px-4 py-2 bg-yellow-600 text-white rounded-lg",children:"à¹„à¸›à¸«à¸™à¹‰à¸²à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š"})})]})}):D.length>0?(0,d.jsx)("div",{className:"space-y-4",children:D.map(a=>{let b;return(0,d.jsx)("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-gray-100 hover:border-orange-200 overflow-hidden",children:(0,d.jsx)("div",{className:"p-6",children:(0,d.jsxs)("div",{className:"flex items-start gap-6",children:[(0,d.jsx)("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center text-white font-bold text-xl flex-shrink-0 shadow-lg",children:((a.user?.first_name&&a.user?.last_name?`${a.user.first_name} ${a.user.last_name}`:a.passenger_name||a.passengerName||a.PassengerName||a.user?.name||a.user?.full_name||"")||"").trim().split(" ").map(a=>a[0]||"").slice(0,2).join("")||"â€“"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"à¸£à¸«à¸±à¸ªà¸à¸²à¸£à¸ˆà¸­à¸‡"}),(0,d.jsx)("div",{className:"font-mono font-bold text-lg text-gray-900 mb-2",children:a.booking_code||a.booking_number||a.bookingNumber||a.BookingNumber||a.booking_number}),(0,d.jsx)("div",{className:"text-xl font-bold text-gray-900",children:a.user?.first_name||a.user?.last_name?`${a.user?.first_name||""} ${a.user?.last_name||""}`.trim():a.passenger_name||a.passengerName||a.PassengerName||a.user?.name||a.user?.full_name||"-"})]}),(a=>{switch(a){case"CONFIRMED":return(0,d.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-bold bg-green-100 text-green-700 border border-green-300",children:[(0,d.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"à¸¢à¸·à¸™à¸¢à¸±à¸™à¹à¸¥à¹‰à¸§"]});case"PENDING":return(0,d.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-bold bg-yellow-100 text-yellow-700 border border-yellow-300",children:[(0,d.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"à¸£à¸­à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£"]});case"CANCELLED":return(0,d.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-bold bg-red-100 text-red-700 border border-red-300",children:[(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"à¸¢à¸à¹€à¸¥à¸´à¸à¹à¸¥à¹‰à¸§"]});case"COMPLETED":return(0,d.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-bold bg-blue-100 text-blue-700 border border-blue-300",children:[(0,d.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™"]});default:return null}})(C(a))]}),(0,d.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[(0,d.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),(0,d.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"à¹€à¸ªà¹‰à¸™à¸—à¸²à¸‡"})]}),(0,d.jsxs)("div",{className:"font-bold text-blue-900",children:[a.origin||a.route_origin||a.route?.origin||"-"," â†’ ",a.destination||a.route_destination||a.route?.destination||"-"]})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,d.jsx)("span",{className:"text-sm font-medium text-green-700",children:"à¸§à¸±à¸™à¸—à¸µà¹ˆ"})]}),(0,d.jsx)("div",{className:"font-bold text-green-900",children:(()=>{let b=a.departure_time||a.DepartureTime||a.schedule?.departure_time||a.schedule?.departureDate||"";if(!b)return"-";let c=b.includes("T")?b.split("T")[0]:b,d=new Date(c);return isNaN(d.getTime())?"-":d.toLocaleDateString("th-TH")})()})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-4 border border-purple-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,d.jsx)("span",{className:"text-sm font-medium text-purple-700",children:"à¹€à¸§à¸¥à¸²"})]}),(0,d.jsx)("div",{className:"font-bold text-purple-900",children:(b=a.departure_time||a.DepartureTime||a.schedule?.departure_time||"")?b.includes("T")?(0,j.formatIsoTime)(b)+" à¸™.":b+" à¸™.":"-"})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(()=>{if(Array.isArray(a.seats))return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("span",{className:"font-bold text-gray-900",children:[a.seats.length," à¸—à¸µà¹ˆà¸™à¸±à¹ˆà¸‡"]}),(0,d.jsxs)("span",{className:"text-gray-600",children:["(",a.seats.map(a=>a.seat_number).join(", "),")"]})]});let b=a.seat_number??a.SeatNumber??a.seatNumber;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("span",{className:"font-bold text-gray-900",children:[+!!b," à¸—à¸µà¹ˆà¸™à¸±à¹ˆà¸‡"]}),(0,d.jsxs)("span",{className:"text-gray-600",children:["(",b||"-",")"]})]})})()]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,d.jsx)("span",{className:"text-gray-900",children:a.user?.phone||a.user?.phone_number||a.user?.phoneNumber||a.passenger_phone||a.passengerPhone||a.PassengerPhone||"-"})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"à¸¢à¸­à¸”à¹€à¸‡à¸´à¸™"}),(0,d.jsxs)("div",{className:"text-3xl font-bold text-orange-600",children:["à¸¿",a.total_price]})]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)(g.Button,{size:"sm",onClick:()=>A(a),className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white",children:[(0,d.jsxs)("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"à¸”à¸¹à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”"]}),"PENDING"===C(a)&&(0,d.jsxs)(g.Button,{size:"sm",variant:"outline",onClick:()=>B(a.id,"CONFIRMED"),className:"border-2 border-green-300 text-green-600 hover:bg-green-50",children:[(0,d.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"à¸¢à¸·à¸™à¸¢à¸±à¸™"]}),("PENDING"===C(a)||"CONFIRMED"===C(a))&&(0,d.jsxs)(g.Button,{size:"sm",variant:"outline",onClick:()=>{confirm("à¸„à¸¸à¸“à¹à¸™à¹ˆà¹ƒà¸ˆà¸«à¸£à¸·à¸­à¸§à¹ˆà¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¸ˆà¸­à¸‡à¸™à¸µà¹‰?")&&B(a.id,"cancelled")},className:"border-2 border-red-300 text-red-600 hover:bg-red-50",children:[(0,d.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"à¸¢à¸à¹€à¸¥à¸´à¸"]})]})]})]})})},a.id)})}):(0,d.jsxs)("div",{className:"bg-white rounded-3xl shadow-lg p-16 text-center border-2 border-dashed border-gray-300",children:[(0,d.jsx)("div",{className:"text-8xl mb-4",children:"ðŸŽ«"}),(0,d.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"à¹„à¸¡à¹ˆà¸¡à¸µà¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¹ƒà¸™à¸«à¸¡à¸§à¸”à¸™à¸µà¹‰"}),(0,d.jsx)("p",{className:"text-gray-600",children:"à¸¥à¸­à¸‡à¹€à¸¥à¸·à¸­à¸à¸«à¸¡à¸§à¸”à¸­à¸·à¹ˆà¸™à¸«à¸£à¸·à¸­à¸„à¹‰à¸™à¸«à¸²à¹ƒà¸«à¸¡à¹ˆ"})]})]})}),q&&(0,d.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>{r(null),t(null)}}),(0,d.jsxs)("div",{className:"relative z-10 w-[min(900px,95%)] bg-white rounded-2xl shadow-2xl p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("h3",{className:"text-xl font-bold",children:["à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸à¸²à¸£à¸ˆà¸­à¸‡ #",q.booking_number||q.booking_code||q.id]}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsx)(g.Button,{size:"sm",variant:"ghost",onClick:()=>{r(null),t(null)},children:"à¸›à¸´à¸”"})})]}),u?(0,d.jsx)("div",{className:"py-8 text-center",children:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”..."}):(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"à¸œà¸¹à¹‰à¹‚à¸”à¸¢à¸ªà¸²à¸£"}),(0,d.jsx)("div",{className:"font-bold text-lg",children:s?.passenger_name||s?.PassengerName||s?.user?.name||s?.user?.full_name||"-"}),(0,d.jsxs)("div",{className:"text-sm text-gray-600 mt-2",children:["à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£: ",(0,d.jsx)("span",{className:"font-medium",children:s?.passenger_phone||s?.PassengerPhone||s?.user?.phone||"-"})]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600 mt-2",children:["à¸—à¸µà¹ˆà¸™à¸±à¹ˆà¸‡: ",(0,d.jsx)("span",{className:"font-medium",children:s?.seat_number??s?.SeatNumber??"-"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"à¹€à¸ªà¹‰à¸™à¸—à¸²à¸‡"}),(0,d.jsxs)("div",{className:"font-bold text-lg",children:[s?.origin||s?.route?.origin||"-"," â†’ ",s?.destination||s?.route?.destination||"-"]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600 mt-2",children:["à¸§à¸±à¸™à¸—à¸µà¹ˆ: ",(0,d.jsx)("span",{className:"font-medium",children:s&&s.departure_time?new Date(s.departure_time).toLocaleDateString("th-TH"):"-"})]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600 mt-2",children:["à¹€à¸§à¸¥à¸²: ",(0,d.jsx)("span",{className:"font-medium",children:s&&s.departure_time?s.departure_time.includes("T")?s.departure_time.split("T")[1].slice(0,5):s.departure_time:"-"})]})]})]}),(0,d.jsxs)("div",{className:"mt-6 flex justify-end gap-2",children:[("PENDING"===C(q)||"CONFIRMED"===C(q))&&(0,d.jsx)(g.Button,{size:"sm",variant:"outline",className:"border-red-300 text-red-600",onClick:()=>{confirm("à¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¸ˆà¸­à¸‡à¸™à¸µà¹‰à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ?")&&(B(q.id,"cancelled"),r(null),t(null))},children:"à¸¢à¸à¹€à¸¥à¸´à¸"}),"PENDING"===C(q)&&(0,d.jsx)(g.Button,{size:"sm",className:"bg-green-500 text-white",onClick:()=>{B(q.id,"CONFIRMED"),r(null),t(null)},children:"à¸¢à¸·à¸™à¸¢à¸±à¸™"})]})]})]})]})}[g]=l.then?(await l)():l,a.s(["default",()=>m]),c()}catch(a){c(a)}},!1),59300,a=>a.a(async(b,c)=>{try{var d=a.i(42898),e=a.i(58287),f=a.i(67815),g=a.i(74843),h=a.i(43594),i=a.i(71527),j=a.i(12673),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/bookings",pathname:"/admin/bookings",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/bookings",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_e7c54c88._.js.map